<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"test_support_drivers_AndroidDriver.js.html":{"id":"test_support_drivers_AndroidDriver.js.html","title":"Source: test/support/drivers/AndroidDriver.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: test/support/drivers/AndroidDriver.js const webdriver = require(\"selenium-webdriver\"); const Driver = require(\"../Driver\"); /** * Android Driver Related Methods */ class AndroidDriver extends Driver { /** * Build the driver with capabilities * @returns {WebDriver} Driver object */ build() { return new webdriver.Builder() .usingServer(\"http://localhost:4723/wd/hub\") .withCapabilities({ platformName: \"Android\", platformVersion: \"4.4\", deviceName: \"Android Emulator\", browserName: \"Chrome\", }) .build(); } } module.exports = AndroidDriver; × Search results Close "},"test_support_drivers_ChromeDriver.js.html":{"id":"test_support_drivers_ChromeDriver.js.html","title":"Source: test/support/drivers/ChromeDriver.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: test/support/drivers/ChromeDriver.js const chromedriver = require(\"chromedriver\"); const webdriver = require(\"selenium-webdriver\"); const Driver = require(\"../Driver\"); /** * Chrome Driver Related Methods */ class ChromeDriver extends Driver { /** * Build the driver with capabilities * @returns {WebDriver} Driver object */ build() { return new webdriver.Builder() .withCapabilities({ browserName: \"chrome\", javascriptEnabled: true, acceptSslCerts: true, chromeOptions: { args: [\"start-maximized\", \"disable-extensions\"], }, path: chromedriver.path, }).build(); } } module.exports = ChromeDriver; × Search results Close "},"test_support_drivers_ChromeheadlessDriver.js.html":{"id":"test_support_drivers_ChromeheadlessDriver.js.html","title":"Source: test/support/drivers/ChromeheadlessDriver.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: test/support/drivers/ChromeheadlessDriver.js const webdriver = require(\"selenium-webdriver\"); const chrome = require(\"selenium-webdriver/chrome\"); const Driver = require(\"../Driver\"); /** * Chrome Headless Driver Related Methods */ class ChromeheadlessDriver extends Driver { /** * Build the driver with capabilities * @returns {WebDriver} Driver object */ build() { return new webdriver .Builder() .forBrowser(\"chrome\") .setChromeOptions(new chrome.Options().addArguments(\"--window-size=1440x900\").headless()) .build(); } } module.exports = ChromeheadlessDriver; × Search results Close "},"test_support_Driver.js.html":{"id":"test_support_Driver.js.html","title":"Source: test/support/Driver.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: test/support/Driver.js const _ = require(\"lodash\"); /** * Driver Related Methods */ class Driver { /** * Abstract */ constructor() { if (new.target === Driver) { throw new Error(\"Driver can't be instantiated directly.\"); } } /** * Factory * @param {String} name - name */ static create(name) { const fileName = `./drivers/${_.capitalize(name)}Driver.js`; let ClassName; try { ClassName = require(fileName); return new ClassName(); } catch (error) { throw new Error(`${ClassName} driver not found`); } } /** * Build the driver with capabilities * @returns {WebDriver} Driver object */ build() {} } module.exports = Driver; × Search results Close "},"test_support_drivers_FirefoxDriver.js.html":{"id":"test_support_drivers_FirefoxDriver.js.html","title":"Source: test/support/drivers/FirefoxDriver.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: test/support/drivers/FirefoxDriver.js const firefox = require(\"geckodriver\"); const webdriver = require(\"selenium-webdriver\"); const Driver = require(\"../Driver\"); /** * Firefox Driver Related Methods */ class FirefoxDriver extends Driver { /** * Build the driver with capabilities * @returns {WebDriver} Driver object */ build() { return new webdriver.Builder() .withCapabilities({ browserName: \"firefox\", javascriptEnabled: true, acceptSslCerts: true, \"webdriver.firefox.bin\": firefox.path, }).build(); } } module.exports = FirefoxDriver; × Search results Close "},"test_support_drivers_FirefoxheadlessDriver.js.html":{"id":"test_support_drivers_FirefoxheadlessDriver.js.html","title":"Source: test/support/drivers/FirefoxheadlessDriver.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: test/support/drivers/FirefoxheadlessDriver.js const webdriver = require(\"selenium-webdriver\"); const firefox = require(\"selenium-webdriver/firefox\"); const Driver = require(\"../Driver\"); /** * Firefox Headless Driver Related Methods */ class FirefoxheadlessDriver extends Driver { /** * Build the driver with capabilities * @returns {WebDriver} Driver object */ build() { return new webdriver .Builder() .forBrowser(\"firefox\") .setFirefoxOptions(new firefox.Options().headless()) .build(); } } module.exports = FirefoxheadlessDriver; × Search results Close "},"test_support_Helper.js.html":{"id":"test_support_Helper.js.html","title":"Source: test/support/Helper.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: test/support/Helper.js /** * Helper Related Methods */ class Helper { /** * Instantiate the object * @param {World} world - world object instance */ constructor(world) { this.world = world; if (this.world.debug) console.log(\"Helper:constructor\"); } /** * This will return world object instance * @returns {World} world object * @example * helper.getWorld(); */ getWorld() { return this.world; } /** * This will return driver object instance * @returns {WebDriver} Driver object * @example * helper.getDriver(); */ getDriver() { return this.world.driver; } /** * Get app url for environment * @param {String} env - Environment * @return {String} root url */ getAppUrlForEnv(env) { switch (env.toLowerCase()) { case \"local\": return \"https://nazmulb.wordpress.com\"; case \"prod\": return \"https://nazmulb.wordpress.com\"; default: return \"https://nazmulb.wordpress.com\"; } } /** * Load or navigate to a page with the url and check the body element is present * @param {string} url - url to load * @param {integer} waitInSeconds - number of seconds to wait for page to load * @example * helper.loadPage(\"http://www.google.com\"); */ async loadPage(url) { await this.world.driver.get(url); if (this.world.debug) console.log(`loadPage: ${url}`); // now wait for the body element to be present await this.waitFor(\"body\"); } /** * Wait for any element to be found * @param {string} locator - css or xpath selector element * @param {integer} waitInSeconds - number of seconds to wait for the element to load * @example * helper.waitFor(\"body\", 15); */ async waitFor(locator, waitInSeconds) { // use either passed in timeout or global default const timeout = (waitInSeconds) ? (waitInSeconds * 1000) : this.world.defaultTimeout; if (!this.world.isBrowser) { throw new Error(\"Tests are not running on a web browser, no web elements to wait for\"); } const selector = (locator.indexOf(\"//\") === 0) ? \"xpath\" : \"css\"; if (this.world.debug) console.log(`waitFor: ${locator}`); await this.world.driver.wait(this.world.selenium.until.elementLocated(this.world.selenium.By[selector](locator)), timeout); } /** * To find an element on the page that match the given search criteria * @param {string} locator - css or xpath selector element * @returns {WebElementPromise} an element that can be used to issue commands against the located element * @example * helper.findElement(\"body\"); */ async findElement(locator) { if (!this.world.isBrowser) { throw new Error(\"Tests are not running on a web browser, no web elements to wait for\"); } const selector = (locator.indexOf(\"//\") === 0) ? \"xpath\" : \"css\"; if (this.world.debug) console.log(`findElement: ${locator}`); return this.world.driver.findElement(this.world.selenium.By[selector](locator)); } /** * To find all elements on the page that match the given search criteria * @param {string} locator - css or xpath selector element * @returns {WebElementPromise} an element that can be used to issue commands against the located element * @example * helper.findElements(\"body\"); */ async findElements(locator) { if (!this.world.isBrowser) { throw new Error(\"Tests are not running on a web browser, no web elements to wait for\"); } const selector = (locator.indexOf(\"//\") === 0) ? \"xpath\" : \"css\"; if (this.world.debug) console.log(`findElements: ${locator}`); return this.world.driver.findElements(this.world.selenium.By[selector](locator)); } /** * Get Element Text * @param {string} locator - css or xpath selector element * @return {string} str * @example * helper.getElementText(\"#divid\"); */ async getElementText(locator) { await this.world.helper.waitFor(locator); const input = await this.world.helper.findElement(locator); const str = await input.getText(); return str; } /** * Get Element Attribute * @param {string} locator - css or xpath selector element * @param {string} attribute - name, value, class, etc * @return {string} str * @example * helper.getElementAttribute(\"#divid\", \"class\"); */ async getElementAttribute(locator, attribute) { await this.world.helper.waitFor(locator); const input = await this.world.helper.findElement(locator); const str = await input.getAttribute(attribute); return str; } /** * Get Element Css Value * @param {string} locator - css or xpath selector element * @param {string} attribute - width, height, position, visibility, etc * @return {string} str * @example * helper.getCssValue(\"#divid\", \"width\"); */ async getCssValue(locator, attribute) { await this.world.helper.waitFor(locator); const input = await this.world.helper.findElement(locator); const str = await input.getCssValue(attribute); return str; } /** * Is displayed * @param {string} locator - css or xpath selector element * @return {boolean} bool * @example * helper.isDisplayed(\"#divid\"); */ async isDisplayed(locator) { await this.world.helper.waitFor(locator); const input = await this.world.helper.findElement(locator); const bool = await input.isDisplayed(); return bool; } /** * Is enabled * @param {string} locator - css or xpath selector element * @return {boolean} bool * @example * helper.isEnabled(\"#divid\"); */ async isEnabled(locator) { await this.world.helper.waitFor(locator); const input = await this.world.helper.findElement(locator); const bool = await input.isEnabled(); return bool; } /** * Is selected * @param {string} locator - css or xpath selector element * @return {boolean} bool * @example * helper.isSelected(\"#divid\"); */ async isSelected(locator) { await this.world.helper.waitFor(locator); const input = await this.world.helper.findElement(locator); const bool = await input.isSelected(); return bool; } /** * Scroll to the element * @param {WebElement} element - the element * @example * helper.scrollToElement(el); */ async scrollToElement(element) { if (this.world.debug) console.log(\"scrollToElement\"); await this.world.driver.executeScript(\"arguments[0].scrollIntoView()\", element); await this.world.sleep(1000); } /** * Move Slider * @param {WebElement} element - the element * @param {Number} xOffset - x offset * @param {Number} yOffset - y offset * @example * helper.scrollToElement(el, 45, 0); */ async moveSlider(element, xOffset, yOffset) { if (this.world.debug) console.log(\"moveSlider\"); await this.world.helper.waitFor(element); const el = await this.world.helper.findElement(element); await this.world.driver.actions() .move({ x: xOffset, y: yOffset, origin: el }) .press() .release() .perform(); await this.world.sleep(1000); } /** * Reload or refresh page * @example * helper.refresh(); */ async refresh() { if (this.world.debug) console.log(\"refresh\"); await this.world.driver.navigate().refresh(); await this.world.sleep(2000); } /** * Take Screenshot * @example * helper.takeScreenshot(); */ async takeScreenshot() { if (this.world.debug) console.log(\"takeScreenshot\"); const data = await this.world.driver.takeScreenshot(); // Attaching screenshot to report await this.world.attach(data, \"image/png\"); await this.world.sleep(100); } } module.exports = Helper; × Search results Close "},"resources_pages_NazmulWebPage.js.html":{"id":"resources_pages_NazmulWebPage.js.html","title":"Source: resources/pages/NazmulWebPage.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: resources/pages/NazmulWebPage.js const Page = require(\"./Page\"); /** * Nazmul Web Page Class Methods */ class NazmulWebPage extends Page { /** * Get page elements * @returns {Object} page elements */ get elements() { return { myProfileMenu: \"#pagebar &gt; li.page_item.page-item-8 &gt; a\", searchInput: \"#s\", }; } /** * Enters a search term into search box and presses enter * @param {string} searchQuery - search query text */ async preformSearch(searchQuery) { if (this.world.debug) console.log(\"preformSearch\"); let sq = searchQuery; const { searchInput } = this.elements; const { username } = this.world.data.user; if (username === sq) sq = \"Test\"; await this.world.helper.waitFor(searchInput); const el = await this.world.helper.findElement(searchInput); await this.world.helper.scrollToElement(el); await el.sendKeys(sq); await el.sendKeys(this.world.selenium.Key.ENTER); await this.world.sleep(2000); } } module.exports = NazmulWebPage; × Search results Close "},"resources_pages_Page.js.html":{"id":"resources_pages_Page.js.html","title":"Source: resources/pages/Page.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: resources/pages/Page.js /** * Page Class Methods */ class Page { /** * Instantiate the object */ constructor(world) { this.world = world; } get elements() { return {}; } get url() { return \"/\"; } /** * Match the title * @param {string} expectedTitle - expected title to match */ async titleEquals(expectedTitle) { if (this.world.debug) console.log(\"titleEquals\"); const actualTitle = await this.world.driver.getTitle(); this.world.expect(actualTitle).to.equal(expectedTitle); } } module.exports = Page; × Search results Close "},"resources_PageFactory.js.html":{"id":"resources_PageFactory.js.html","title":"Source: resources/PageFactory.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: resources/PageFactory.js const _ = require(\"lodash\"); /** * Page Factory Methods */ class PageFactory { /** * Instantiate the object */ constructor(world) { this.world = world; } /** * Factory method * @param {String} name - name */ create(name) { const fileName = `./pages/${_.upperFirst(_.camelCase(name))}Page.js`; let ClassName; try { ClassName = require(fileName); return new ClassName(this.world); } catch (error) { throw new Error(`${ClassName} page not found`); } } } module.exports = PageFactory; × Search results Close "},"test_support_Report.js.html":{"id":"test_support_Report.js.html","title":"Source: test/support/Report.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: test/support/Report.js const path = require(\"path\"); const reporter = require(\"cucumber-html-reporter\"); const reportPath = path.join(\"reports\"); /** * Report Related Methods */ class Report { /** * Generate report * @param {boolean} launchReport */ static generate(launchReport = true) { const options = { theme: \"bootstrap\", jsonFile: `${reportPath}/cucumber_report.json`, output: `${reportPath}/cucumber_report.html`, reportSuiteAsScenarios: true, launchReport, }; reporter.generate(options); } } module.exports = Report; × Search results Close "},"test_support_Screenshot.js.html":{"id":"test_support_Screenshot.js.html","title":"Source: test/support/Screenshot.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: test/support/Screenshot.js const path = require(\"path\"); const fs = require(\"fs\"); const Promise = require(\"bluebird\"); const mkdirp = require(\"mkdirp\"); const writeFile = Promise.promisify(fs.writeFile); /** * Screenshot Related Methods */ class Screenshot { /** * Instantiate the object * @param {World} world - world object instance */ constructor(world) { this.world = world; this.screenshotPath = path.join(\"reports\", \"screenshots\"); if (this.world.debug) console.log(\"Screenshot:constructor\"); this.ensureDirectoryExists(); } /** * Ensure directory exists or not; if not then it will create new directory */ ensureDirectoryExists() { try { if (!fs.existsSync(this.screenshotPath)) { mkdirp.sync(this.screenshotPath); } } catch (err) { console.error(err); } if (this.world.debug) console.log(`Screenshot:ensureDirectoryExists: ${this.screenshotPath}`); } /** * Create screenshot * @param {String} fileName - File name */ async create(fileName) { try { const data = await this.world.driver.takeScreenshot(); // Attaching screenshot to report await this.world.attach(data, \"image/png\"); const filePath = path.join(this.screenshotPath, fileName); const base64Data = data.replace(/^data:image\\/png;base64,/, \"\"); await writeFile(filePath, base64Data, \"base64\"); } catch (err) { console.error(err); } if (this.world.debug) console.log(`Screenshot:create: ${this.screenshotPath}`); } } module.exports = Screenshot; × Search results Close "},"resources_pages_SlotGamePage.js.html":{"id":"resources_pages_SlotGamePage.js.html","title":"Source: resources/pages/SlotGamePage.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: resources/pages/SlotGamePage.js const Page = require(\"./Page\"); /** * Slot Game Page Class Methods */ class SlotGamePage extends Page { /** * Get page specific url to navigate * @returns {String} page url */ get url() { return \"/Test_Task.html\"; } /** * Get page elements * @returns {Object} page elements */ get elements() { return { balanceInput: \"#balance-value\", testDataInput: \"#testdata\", spinButton: \"#spinButton\", winboxDiv: \"#winbox\", }; } /** * Set the balance * @param {Number} value */ async setBalance(value) { if (this.world.debug) console.log(\"setBalance\"); const { balanceInput } = this.elements; await this.world.helper.waitFor(balanceInput); const input = await this.world.helper.findElement(balanceInput); await input.clear(); await input.sendKeys(value); await this.world.sleep(100); } /** * Set test data * @param {Number} value */ async setTestData(value) { if (this.world.debug) console.log(\"setTestData\"); const { testDataInput } = this.elements; await this.world.helper.waitFor(testDataInput); const input = await this.world.helper.findElement(testDataInput); await input.clear(); await input.sendKeys(value); await this.world.sleep(100); } /** * Click the Spin button */ async clickSpinButton() { if (this.world.debug) console.log(\"clickSpinButton\"); const { spinButton } = this.elements; await this.world.helper.waitFor(spinButton); const el = await this.world.helper.findElement(spinButton); await el.click(); await this.world.sleep(100); } /** * Check the balance * @param {Number} expectedValue */ async balanceEquals(expectedValue) { if (this.world.debug) console.log(\"balanceEquals\"); const { balanceInput } = this.elements; const actualValue = await this.world.helper.getElementAttribute(balanceInput, \"value\"); this.world.expect(parseInt(actualValue)).to.equal(expectedValue); await this.world.sleep(100); } /** * Check the Spin button is disabled or not? */ async isSpinButtonDisabled() { if (this.world.debug) console.log(\"isSpinButtonDisabled\"); const { spinButton } = this.elements; const actualValue = await this.world.helper.isEnabled(spinButton); if (this.world.debug) console.log(actualValue); this.world.expect(actualValue).to.equal(false); await this.world.sleep(100); } /** * Check the win coins * @param {Number} coins */ async checkWinCoins(coins) { if (this.world.debug) console.log(\"checkWinCoins\"); let expectedValue = false; const { winboxDiv } = this.elements; let actualValue = await this.world.helper.isDisplayed(winboxDiv); if (this.world.debug) console.log(actualValue); if (parseInt(coins) &gt; 0) expectedValue = true; this.world.expect(actualValue).to.equal(expectedValue); if (expectedValue) { await this.world.sleep(1000); expectedValue = `Win ${coins} coins`; actualValue = await this.world.helper.getElementText(winboxDiv); if (this.world.debug) console.log(actualValue); this.world.expect(actualValue).to.equal(expectedValue); } } } module.exports = SlotGamePage; × Search results Close "},"resources_pages_UrlaubPage.js.html":{"id":"resources_pages_UrlaubPage.js.html","title":"Source: resources/pages/UrlaubPage.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: resources/pages/UrlaubPage.js const Page = require(\"./Page\"); /** * Ab In Den Urlaub Page Class Methods */ class UrlaubPage extends Page { /** * Get page elements * @returns {Object} - page elements */ get elements() { return { cookieButton: \"#CybotCookiebotDialogBodyButtonAccept\", destinationInput: \"#idestflat\", locationLayerDiv: \"div[class=\\\"location-layer show-layer-on\\\"]\", locationLayerHiddenDiv: \"div[class=\\\"location-layer show-layer-on hidden\\\"]\", aiduacWrapperDiv: \"#ac_old &gt; div.ac-box &gt; div.ac-item.location.layer-version &gt; div.aiduac-wrapper.destinations.aiduac-open\", aiduacContentDestinationsLink: \"#ac_old div[class=\\\"aiduac-content destinations\\\"] a[data-name=\\\"{txt}\\\"]\", startDateDiv: \"#flattrip &gt; div.form &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-startpage &gt; div &gt; div &gt; div.datepicker-input-wrapper.datepicker-input-wrapper-start &gt; div\", nextStartMonthSpan: \"#flattrip &gt; div.form &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-startpage &gt; div &gt; div &gt; div.datepicker-layer.start-input &gt; div.datepicker-header &gt; span.month-button.month-button-next.icon-arrow-right-bold\", selectedStartMonthYearSpan: \"#flattrip &gt; div.form &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-startpage &gt; div &gt; div &gt; div.datepicker-layer.start-input &gt; div.datepicker-header &gt; div &gt; span[class=\\\"\\\"]\", selectDateTd: \"#flattrip &gt; div.form &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-startpage &gt; div &gt; div\", nextReturnMonthSpan: \"#flattrip &gt; div.form &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-startpage &gt; div &gt; div &gt; div.datepicker-layer.end-input &gt; div.datepicker-header &gt; span.month-button.month-button-next.icon-arrow-right-bold\", selectedReturnMonthYearSpan: \"#flattrip &gt; div.form &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-startpage &gt; div &gt; div &gt; div.datepicker-layer.end-input &gt; div.datepicker-header &gt; div &gt; span[class=\\\"\\\"]\", travellerSummaryInput: \"#travellerSummary\", travellerLayerDiv: \"div[id=\\\"travellerLayer\\\"][style=\\\"\\\"]\", adultCountDiv: \"#adult &gt; div\", adultPlusButton: \"#adult &gt; button.plusButton\", adultMinusButton: \"#adult &gt; button.minusButton\", travellerApplyButton: \"#travellerLayer &gt; div.submit &gt; button\", searchOffersBtn: \"#submit\", hotelSelectionPageFirstResMediaDiv: \"#hotelList &gt; div.skeleton-wrapper &gt; article:nth-child(1) &gt; div.media.media-fullscreen.js-media.js-showFullscreenSlider.media-loaded\", hotelSelectionPageLoaderSection: \"section[id=\\\"ajaxLoadSkeleton\\\"][style=\\\"display: none;\\\"]\", currentPageNameSpan: \"#bookingProcess &gt; div &gt; ul &gt; li.active &gt; span &gt; span\", startDateHotelDiv: \"#flattrip &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-formfilter &gt; div &gt; div &gt; div.datepicker-input-wrapper.datepicker-input-wrapper-start &gt; div\", nextStartMonthHotelSpan: \"#flattrip &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-formfilter &gt; div &gt; div &gt; div.datepicker-layer.start-input &gt; div.datepicker-header &gt; span.month-button.month-button-next.icon-arrow-right-bold\", selectedStartMonthYearHotelSpan: \"#flattrip &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-formfilter &gt; div &gt; div &gt; div.datepicker-layer.start-input &gt; div.datepicker-header &gt; div &gt; span[class=\\\"\\\"]\", selectDateHotelTd: \"#flattrip &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-formfilter &gt; div &gt; div\", nextReturnMonthHotelSpan: \"#flattrip &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-formfilter &gt; div &gt; div &gt; div.datepicker-layer.end-input &gt; div.datepicker-header &gt; span.month-button.month-button-next.icon-arrow-right-bold\", selectedReturnMonthYearHotelSpan: \"#flattrip &gt; div._input-box._input-box-icon-set._input-box-size-._input-box-datePickerTwoInputs.datepicker-formfilter &gt; div &gt; div &gt; div.datepicker-layer.end-input &gt; div.datepicker-header &gt; div &gt; span[class=\\\"\\\"]\", directFlightHotelInput: \"#directFlight\", priceRangeDiv: \"#priceRange\", starRatingCatInput: \"#optCategory{txt}\", customerReviewSvg: \"#hotelFilter &gt; div.filter.filter-kundenbewertung &gt; label:nth-child({txt}) &gt; svg\", hotelsortingSelect: \"#hotelsorting &gt; option[value=\\\"{txt}\\\"]\", priceBoxStrong: \"#hotelList &gt; div.skeleton-wrapper &gt; article &gt; div.content &gt; div.priceBox &gt; div &gt; a &gt; div &gt; strong\", aboutOffersDiv: \"#hotelList &gt; div.skeleton-wrapper &gt; article:nth-child(1) &gt; div.content &gt; div.priceBox &gt; a &gt; div\", hotelListHeadSection: \"#hotelListHeadSkeleton\", dateOfArrivalLabel: \"#offerFilter-arrival div.offerFilter-list label.offerFilter-listItem.checkbox\", hotelDetailsPageAjaxLoadSection: \"section[id=\\\"ajaxLoad\\\"][class=\\\"section_ajaxLoad hidden\\\"]\", offerFilterDiv: \"#offerFilter\", skeletonOffersSection: \"section[id=\\\"skeletonOffers\\\"][class=\\\"section_skeletonOffers\\\"]\", hotelDetailsPageFirstOfferSpan: \"#skeletonOffers &gt; section.skeleton-offers &gt; article.success:nth-child(1) &gt; div &gt; div.price.js-priceBlock &gt; a &gt; span.text\", hotelDetailsPageHotelNameDiv: \"#hotelInfoBox &gt; div.hotel-info-head.has-bookmarks &gt; div.hotel-name-wrapper &gt; div._styling-h1.hotel-name &gt; div\", hotelDetailsPageDurationDeparture: \"#skeletonOffers &gt; section.skeleton-offers &gt; article &gt; div &gt; div.duration &gt; div.duration-departure &gt; div &gt; span:nth-child(3)\", hotelDetailsPageDurationReturn: \"#skeletonOffers &gt; section.skeleton-offers &gt; article &gt; div &gt; div.duration &gt; div.duration-return &gt; div &gt; span:nth-child(3)\", hotelDetailsPageDurationDepartureTime: \"#skeletonOffers &gt; section.skeleton-offers &gt; article:nth-child(1) &gt; div &gt; div.duration &gt; div.duration-departure &gt; div &gt; span:nth-child(1)\", hotelDetailsPageDurationReturnTime: \"#skeletonOffers &gt; section.skeleton-offers &gt; article:nth-child(1) &gt; div &gt; div.duration &gt; div.duration-return &gt; div &gt; span:nth-child(1)\", bookingPageHotelNameSpan: \"#vacationSummary &gt; ul &gt; ol.content-left &gt; li.hotel-name &gt; span.value\", departureTimeRangeDiv: \"#departureTimeRange &gt; div &gt; div:nth-child(1) &gt; div\", arrivalTimeRangeDiv: \"#departureTimeRange &gt; div &gt; div:nth-child(3) &gt; div\", returnDepartureTimeRangeDiv: \"#returnTimeRange &gt; div &gt; div:nth-child(1) &gt; div\", returnArrivalTimeRangeDiv: \"#returnTimeRange &gt; div &gt; div:nth-child(3) &gt; div\", }; } /** * Generate Date Selector * @param {String} dateTd - css or xpath selector element * @param {Object} dateObject - Date object * @param {String} input - start / end * @returns {String} - css selector */ generateDateSelector(dateTd, dateObject, input) { if (this.world.debug) console.log(\"generateDateSelector\"); return `${dateTd} &gt; div.datepicker-layer.${input}-input &gt; div.datepicker-wrapper &gt; div &gt; div &gt; div.month.month-${dateObject.getMonth()}.year-${dateObject.getFullYear()} &gt; table &gt; tbody &gt; tr &gt; td.day.day-${dateObject.getDate()}`; } /** * Generate Offset * @param {String} time * @returns {Number} */ generateOffset(time, from = 0) { let offset = ((from &gt; 0) ? ((from - parseInt(time)) * 10) : (parseInt(time) * 10)); offset = (offset &gt; 110) ? 110 : offset; return offset; } /** * Check the range * @param {String} a * @param {String} b * @param {String} x * @param {String} y * @returns {Boolean} */ checkRange(a, b, x, y) { const x1 = parseInt(a.replace(\":\", \"\")); const y1 = parseInt(b.replace(\":\", \"\")); const x2 = parseInt(x.replace(\":\", \"\")); const y2 = parseInt(y.replace(\":\", \"\")); if (x2 &lt;= x1 &amp;&amp; y2 &gt;= y1) { return true; } return false; } /** * Click Button * @param {String} buttonToClick - css or xpath selector element for button * @param {String} waitForElement - css or xpath selector element for wait * @param {Boolean} scroll - need scroll or not * @param {String} scrollToElement - css or xpath selector element for scroll */ async clickButton(buttonToClick, waitForElement = \"\", scroll = true, scrollToElement = \"\") { if (this.world.debug) console.log(\"clickButton\"); await this.world.helper.waitFor(buttonToClick); const el = await this.world.helper.findElement(buttonToClick); if (scroll) { const element = (scrollToElement === \"\") ? el : await this.world.helper.findElement(scrollToElement); await this.world.helper.scrollToElement(element); } await el.click(); if (waitForElement) { await this.world.helper.waitFor(waitForElement); } await this.world.sleep(1000); } /** * Check And Click Or Enter * @param {String} destination * @param {WebElement} element - the element */ async checkAndClickOrEnter(destination, elementInput) { if (this.world.debug) console.log(\"checkAndClickOrEnter\"); const { aiduacContentDestinationsLink, aiduacWrapperDiv, locationLayerHiddenDiv } = this.elements; const link = aiduacContentDestinationsLink.replace(\"{txt}\", destination); await this.world.helper.waitFor(aiduacWrapperDiv); await this.world.sleep(2000); if (this.world.debug) console.log(link); const els = await this.world.helper.findElements(link); if (els[0]) { if (this.world.debug) console.log(els); await this.clickButton(link, \"\", false); } else { await elementInput.sendKeys(this.world.selenium.Key.ENTER); } await this.world.helper.waitFor(locationLayerHiddenDiv); await this.world.sleep(1000); } /** * Select destination * @param {String} destination */ async selectDestination(destination) { if (this.world.debug) console.log(\"selectDestination\"); const { destinationInput, locationLayerDiv } = this.elements; await this.world.helper.waitFor(destinationInput); const input = await this.world.helper.findElement(destinationInput); await input.click(); await this.world.helper.waitFor(locationLayerDiv); await input.sendKeys(destination); await this.world.sleep(2000); await this.checkAndClickOrEnter(destination, input); } /** * Click Next Month * @param {String} locator - css or xpath selector element */ async clickNextMonth(locator) { if (this.world.debug) console.log(\"clickNextMonth\"); await this.world.sleep(50); const el = await this.world.helper.findElement(locator); await el.click(); await this.world.sleep(50); } /** * Get Selected Month and Year * @param {String} locator - css or xpath selector element * @returns {Object} - selected month and year */ async getSelectedMonthYear(locator) { if (this.world.debug) console.log(\"getSelectedMonthYear\"); const selectedMonth = await this.world.helper.getElementAttribute(locator, \"data-month\"); const selectedYear = await this.world.helper.getElementAttribute(locator, \"data-year\"); return { selectedMonth, selectedYear, }; } /** * Set Date * @param {Object} dateObject - Date object * @param {String} locatorNextMonth - css or xpath selector element for next month * @param {String} locatorSelectedMonthYear - css or xpath selector element for selected month year * @param {String} input - start / end * @param {String} pageName - name of the page */ async setDate(dateObject, locatorNextMonth, locatorSelectedMonthYear, input, pageName = \"\") { if (this.world.debug) console.log(\"setDate\"); await this.world.sleep(50); await this.world.helper.waitFor(locatorNextMonth); let { selectedMonth, selectedYear } = await this.getSelectedMonthYear(locatorSelectedMonthYear); if (this.world.debug) console.log(`${selectedMonth}/${selectedYear}`); while (dateObject.getFullYear() &gt; selectedYear) { await this.clickNextMonth(locatorNextMonth); const selected = await this.getSelectedMonthYear(locatorSelectedMonthYear); selectedMonth = selected.selectedMonth; selectedYear = selected.selectedYear; if (this.world.debug) console.log(`${selectedMonth}/${selectedYear}`); } while (dateObject.getMonth() &gt; selectedMonth) { await this.clickNextMonth(locatorNextMonth); const selected = await this.getSelectedMonthYear(locatorSelectedMonthYear); selectedMonth = selected.selectedMonth; if (this.world.debug) console.log(`${selectedMonth}/${selectedYear}`); } const selectorName = `selectDate${pageName}Td`; const dateTd = this.elements[selectorName]; if (this.world.debug) console.log(dateTd); const selectDateTd = this.generateDateSelector(dateTd, dateObject, input); if (this.world.debug) console.log(selectDateTd); await this.world.helper.waitFor(selectDateTd); const el = await this.world.helper.findElement(selectDateTd); if (!pageName) await this.world.helper.scrollToElement(el); await el.click(); await this.world.sleep(50); } /** * Set Date Range * @param {String} startDate * @param {String} returnDate * @param {String} locatorStartDate * @param {String} locatorNextStartMonth * @param {String} locatorSelectedStartMonthYear * @param {String} locatorNextReturnMonth * @param {String} locatorSelectedReturnMonthYear * @param {String} pageName */ async setDateRange(startDate, returnDate, locatorStartDate, locatorNextStartMonth, locatorSelectedStartMonthYear, locatorNextReturnMonth, locatorSelectedReturnMonthYear, pageName = \"\") { if (this.world.debug) console.log(\"setDateRange\"); const sDate = new Date(startDate); const eDate = new Date(returnDate); const today = new Date(); const lastDate = new Date(); lastDate.setFullYear(lastDate.getFullYear() + 3, lastDate.getMonth() - 1, lastDate.getDate()); if (sDate &gt; today) { if (eDate &gt;= sDate) { if (lastDate &gt;= eDate) { // Select start date await this.world.helper.waitFor(locatorStartDate); const el = await this.world.helper.findElement(locatorStartDate); await el.click(); await this.setDate(sDate, locatorNextStartMonth, locatorSelectedStartMonthYear, \"start\", pageName); // Select return date await this.setDate(eDate, locatorNextReturnMonth, locatorSelectedReturnMonthYear, \"end\", pageName); await this.world.sleep(100); } else { throw new Error(\"Return date shouldn't be more than 3 years in advance\"); } } else { throw new Error(\"Start date shouldn't be past from the return date\"); } } else { throw new Error(\"Start date shouldn't be today or previous\"); } } /** * Set Adults * @param {String} locator - css or xpath selector element */ async setAdults(locator) { if (this.world.debug) console.log(\"setAdults\"); await this.world.sleep(50); const el = await this.world.helper.findElement(locator); await this.world.helper.scrollToElement(el); await el.click(); await this.world.sleep(50); } /** * Set Traveller * @param {Number} noOfAdults - # of adults * @param {Number} noOfChildren - # of children */ async setTraveller(noOfAdults, noOfChildren = 0) { if (this.world.debug) console.log(\"setTraveller\"); const adults = parseInt(noOfAdults); const children = parseInt(noOfChildren); let el; const { travellerSummaryInput, travellerLayerDiv, adultCountDiv, adultPlusButton, adultMinusButton, travellerApplyButton, } = this.elements; if (adults &gt; 0 &amp;&amp; adults &lt;= 4) { await this.world.helper.waitFor(travellerSummaryInput); el = await this.world.helper.findElement(travellerSummaryInput); await el.click(); await this.world.helper.waitFor(travellerLayerDiv); let adultCount = await this.world.helper.getElementText(adultCountDiv); if (this.world.debug) console.log(`${adultCount}`); while (adults &gt; adultCount) { await this.setAdults(adultPlusButton); adultCount = await this.world.helper.getElementText(adultCountDiv); if (this.world.debug) console.log(`${adultCount}`); } while (adults &lt; adultCount) { await this.setAdults(adultMinusButton); adultCount = await this.world.helper.getElementText(adultCountDiv); if (this.world.debug) console.log(`${adultCount}`); } await this.world.sleep(100); await this.world.helper.waitFor(travellerApplyButton); el = await this.world.helper.findElement(travellerApplyButton); await el.click(); await this.world.sleep(500); } else { throw new Error(\"No of adults should be within 1 to 4\"); } if (children &gt; 0) { // TODO: Do nothing now :) } } /** * Check and Click Cookie Box */ async checkAndClickCookieBox() { if (this.world.debug) console.log(\"checkAndClickCookieBox\"); const { cookieButton } = this.elements; await this.world.sleep(1000); const els = await this.world.helper.findElements(cookieButton); if (els[0]) { await this.clickButton(cookieButton, \"\", false); } await this.world.sleep(500); } /** * Fill Search Offer Form * @param {Object} data - form data */ async fillSearchOfferForm(data) { if (this.world.debug) console.log(\"fillSearchOfferForm\"); await this.checkAndClickCookieBox(); if (data.destination) { await this.selectDestination(data.destination); } if (data.startDate &amp;&amp; data.returnDate) { const { startDateDiv, nextStartMonthSpan, selectedStartMonthYearSpan, nextReturnMonthSpan, selectedReturnMonthYearSpan, } = this.elements; await this.setDateRange(data.startDate, data.returnDate, startDateDiv, nextStartMonthSpan, selectedStartMonthYearSpan, nextReturnMonthSpan, selectedReturnMonthYearSpan); } if (data.noOfAdults) { await this.setTraveller(data.noOfAdults); } if (data.clickButton) { const { searchOffersBtn, hotelSelectionPageFirstResMediaDiv } = this.elements; await this.clickButton(searchOffersBtn, hotelSelectionPageFirstResMediaDiv); } } /** * Check Page Name * @param {String} expectedTitle - name of the page */ async checkPageName(expectedTitle) { if (this.world.debug) console.log(\"checkPageName\"); const { currentPageNameSpan } = this.elements; await this.world.helper.waitFor(currentPageNameSpan); let actualTitle = await this.world.helper.getElementText(currentPageNameSpan); actualTitle = actualTitle.replace(\". \", \"\"); this.world.expect(actualTitle).to.equal(expectedTitle); } /** * Change selections and find the best hotel * @param {Object} data - form data */ async findBestHotel(data) { if (this.world.debug) console.log(\"findBestHotel\"); await this.checkAndClickCookieBox(); const { hotelSelectionPageFirstResMediaDiv, hotelSelectionPageLoaderSection, directFlightHotelInput } = this.elements; if (data.startDate &amp;&amp; data.returnDate) { const { startDateHotelDiv, nextStartMonthHotelSpan, selectedStartMonthYearHotelSpan, nextReturnMonthHotelSpan, selectedReturnMonthYearHotelSpan, } = this.elements; await this.world.helper.waitFor(hotelSelectionPageLoaderSection); await this.setDateRange(data.startDate, data.returnDate, startDateHotelDiv, nextStartMonthHotelSpan, selectedStartMonthYearHotelSpan, nextReturnMonthHotelSpan, selectedReturnMonthYearHotelSpan, \"Hotel\"); } if (data.clickButton) { const { searchOffersBtn } = this.elements; await this.world.helper.waitFor(hotelSelectionPageLoaderSection); await this.clickButton(searchOffersBtn, hotelSelectionPageFirstResMediaDiv, true, directFlightHotelInput); } if (data.starRating) { const { starRatingCatInput } = this.elements; const number = (data.starRating === \"beliebig\") ? -1 : Math.round(parseInt(data.starRating) / 2); const starRateInput = starRatingCatInput.replace(\"{txt}\", number); await this.world.helper.waitFor(hotelSelectionPageLoaderSection); await this.clickButton(starRateInput, hotelSelectionPageFirstResMediaDiv, true, directFlightHotelInput); await this.world.sleep(1000); } if (data.customerReview) { const { customerReviewSvg, priceRangeDiv } = this.elements; const custReviewSvg = customerReviewSvg.replace(\"{txt}\", data.customerReview); await this.world.helper.waitFor(hotelSelectionPageLoaderSection); await this.clickButton(custReviewSvg, hotelSelectionPageFirstResMediaDiv, true, priceRangeDiv); await this.world.sleep(1000); } if (data.sortBy) { const { hotelsortingSelect } = this.elements; const sortingSelect = hotelsortingSelect.replace(\"{txt}\", data.sortBy.replace(\" \", \"_\")); await this.world.helper.waitFor(hotelSelectionPageLoaderSection); await this.clickButton(sortingSelect, hotelSelectionPageFirstResMediaDiv); await this.world.sleep(1000); } await this.world.sleep(2000); } /** * Verify Sorted * @param {String} expectedSortedBy - sorted by */ async verifySorted(expectedSortedBy) { if (this.world.debug) console.log(\"verifySorted\"); if (expectedSortedBy) { const { priceBoxStrong, hotelSelectionPageLoaderSection } = this.elements; await this.world.helper.waitFor(hotelSelectionPageLoaderSection); let actualSort = []; await this.world.helper.waitFor(priceBoxStrong); const priceElements = await this.world.helper.findElements(priceBoxStrong); if (priceElements) { actualSort = await Promise.all(priceElements.map(async function (priceElement) { const priceText = await priceElement.getText(); const price = parseInt(priceText.match(/([0-9])+/g).join(\"\")); return price; })); } const expectedSort = actualSort; expectedSort.sort(function (a, b) { return b - a; }); this.world.expect(actualSort[0]).to.equal(expectedSort[0]); await this.world.sleep(100); } } /** * Select The Most Expensive Hotel */ async selectMostExpensiveHotel() { if (this.world.debug) console.log(\"selectMostExpensiveHotel\"); const { aboutOffersDiv, hotelDetailsPageFirstOfferSpan, hotelDetailsPageAjaxLoadSection, hotelListHeadSection, } = this.elements; await this.clickButton(aboutOffersDiv, \"\", true, hotelListHeadSection); await this.world.switchTab(1); await this.world.helper.waitFor(hotelDetailsPageAjaxLoadSection); await this.world.helper.waitFor(hotelDetailsPageFirstOfferSpan); await this.world.sleep(2000); } /** * Find Best Fit * @param {Object} data - form data */ async findBestFit(data) { if (this.world.debug) console.log(\"findBestFit\"); await this.world.sleep(1000); await this.checkAndClickCookieBox(); const { hotelDetailsPageAjaxLoadSection, skeletonOffersSection, offerFilterDiv } = this.elements; await this.world.helper.waitFor(hotelDetailsPageAjaxLoadSection); const element = await this.world.helper.findElement(offerFilterDiv); await this.world.helper.scrollToElement(element); await this.world.sleep(1000); this.dataInputFindBestFit = data; if (data.departureTime) { const { departureTimeRangeDiv } = this.elements; const xOffset = this.generateOffset(data.departureTime); if (xOffset &gt; 0) { await this.world.helper.moveSlider(departureTimeRangeDiv, xOffset, 0); await this.world.helper.waitFor(skeletonOffersSection); await this.world.sleep(1000); } } if (data.arrivalTime) { const { arrivalTimeRangeDiv } = this.elements; const xOffset = this.generateOffset(data.arrivalTime, 24); if (xOffset &gt; 0) { await this.world.helper.moveSlider(arrivalTimeRangeDiv, -xOffset, 0); await this.world.helper.waitFor(skeletonOffersSection); await this.world.sleep(1000); } } if (data.returnDepartureTime) { const { returnDepartureTimeRangeDiv } = this.elements; const xOffset = this.generateOffset(data.returnDepartureTime); if (xOffset &gt; 0) { await this.world.helper.moveSlider(returnDepartureTimeRangeDiv, xOffset, 0); await this.world.helper.waitFor(skeletonOffersSection); await this.world.sleep(1000); } } if (data.returnArrivalTime) { const { returnArrivalTimeRangeDiv } = this.elements; const xOffset = this.generateOffset(data.returnArrivalTime, 24); if (xOffset &gt; 0) { await this.world.helper.moveSlider(returnArrivalTimeRangeDiv, -xOffset, 0); await this.world.helper.waitFor(skeletonOffersSection); await this.world.sleep(1000); } } if (data.dateOfArrival) { const { dateOfArrivalLabel } = this.elements; await this.world.sleep(2000); if (data.dateOfArrival) { let date = data.dateOfArrival.split(\"-\"); date = `${date[2]}.${date[1]}.${date[0]}`; let ids; const elements = await this.world.helper.findElements(dateOfArrivalLabel); if (elements) { ids = await Promise.all(elements.map(async function (el) { const text = await el.getText(); let isMatched = text.match(new RegExp(date, \"g\")); isMatched = (isMatched) ? isMatched.toString() : isMatched; if (isMatched === date) { const id = await el.getAttribute(\"for\"); return id; } return null; })); } ids = ids.filter((i) =&gt; i); // removing null if (this.world.debug) console.dir(ids); const eId = (ids) ? `#${ids[0]}` : null; if (eId) { await this.clickButton(eId, skeletonOffersSection, false); } await this.world.sleep(1000); } else { throw new Error(\"Date of arrival shouldn't be empty\"); } } await this.world.sleep(2000); } /** * Count Direct Flights * @param {Number} count */ async countDirectFlights(count) { if (this.world.debug) console.log(\"countDirectFlights\"); const { hotelDetailsPageDurationDeparture, hotelDetailsPageDurationReturn, hotelDetailsPageAjaxLoadSection, hotelDetailsPageHotelNameDiv, } = this.elements; let departureDirectFlights; let returnDirectFlights; await this.world.helper.waitFor(hotelDetailsPageAjaxLoadSection); await this.world.helper.waitFor(hotelDetailsPageHotelNameDiv); await this.world.sleep(1000); await this.world.helper.waitFor(hotelDetailsPageDurationDeparture); let flightElements = await this.world.helper.findElements(hotelDetailsPageDurationDeparture); if (flightElements) { departureDirectFlights = await Promise.all(flightElements.map(async function (flightElement) { const flightText = await flightElement.getText(); const flight = flightText.match(/Direktflug/g); return flight; })); } departureDirectFlights = departureDirectFlights.filter((i) =&gt; i); // removing null if (this.world.debug) console.log(departureDirectFlights.length); await this.world.helper.waitFor(hotelDetailsPageDurationReturn); flightElements = await this.world.helper.findElements(hotelDetailsPageDurationReturn); if (flightElements) { returnDirectFlights = await Promise.all(flightElements.map(async function (flightElement) { const flightText = await flightElement.getText(); const flight = flightText.match(/Direktflug/g); return flight; })); } returnDirectFlights = returnDirectFlights.filter((i) =&gt; i); // removing null if (this.world.debug) console.log(returnDirectFlights.length); const totalDirectFlights = departureDirectFlights.length &gt; returnDirectFlights.length ? returnDirectFlights.length : departureDirectFlights.length; if (this.world.debug) console.log(totalDirectFlights); try { this.world.expect(totalDirectFlights).to.be.above(count); } catch (e) { await this.world.helper.takeScreenshot(); } finally { await this.world.attach(`Total direct flights: ${totalDirectFlights}`); } await this.world.sleep(2000); } /** * Verify Flight Time Of First Result */ async verifyFlightTimeOfFirstResult() { if (this.world.debug) console.log(\"verifyFlightTimeOfFirstResult\"); const { hotelDetailsPageDurationDepartureTime, hotelDetailsPageDurationReturnTime, hotelDetailsPageAjaxLoadSection, hotelDetailsPageHotelNameDiv, } = this.elements; let departureTimeRange; let returnTimeRange; await this.world.helper.waitFor(hotelDetailsPageAjaxLoadSection); await this.world.helper.waitFor(hotelDetailsPageHotelNameDiv); await this.world.sleep(1000); await this.world.helper.waitFor(hotelDetailsPageDurationDepartureTime); departureTimeRange = await this.world.helper.getElementText(hotelDetailsPageDurationDepartureTime); departureTimeRange = departureTimeRange.match(/[+-]?([0-9]*[:])?[0-9]+/g); if (this.world.debug) console.dir(departureTimeRange); let actual = this.checkRange(departureTimeRange[0], departureTimeRange[1], this.dataInputFindBestFit.departureTime, this.dataInputFindBestFit.arrivalTime); try { this.world.expect(actual).to.equal(true); } catch (e) { await this.world.attach(`Departure time range (${departureTimeRange[0]} - ${departureTimeRange[1]}) doesn't fall within the desired time range`); await this.world.helper.takeScreenshot(); } await this.world.helper.waitFor(hotelDetailsPageDurationReturnTime); returnTimeRange = await this.world.helper.getElementText(hotelDetailsPageDurationReturnTime); returnTimeRange = returnTimeRange.match(/[+-]?([0-9]*[:])?[0-9]+/g); if (this.world.debug) console.dir(returnTimeRange); actual = this.checkRange(returnTimeRange[0], returnTimeRange[1], this.dataInputFindBestFit.returnDepartureTime, this.dataInputFindBestFit.returnArrivalTime); try { this.world.expect(actual).to.equal(true); } catch (e) { await this.world.attach(`Return time range (${returnTimeRange[0]} - ${returnTimeRange[1]}) doesn't fall within the desired time range`); await this.world.helper.takeScreenshot(); } await this.world.sleep(2000); } /** * Select The First Offer */ async selectFirstOffer() { if (this.world.debug) console.log(\"selectFirstOffer\"); const { hotelDetailsPageHotelNameDiv, hotelDetailsPageFirstOfferSpan, bookingPageHotelNameSpan, offerFilterDiv, } = this.elements; await this.world.helper.waitFor(hotelDetailsPageHotelNameDiv); this.expectedHotelName = await this.world.helper.getElementText(hotelDetailsPageHotelNameDiv); if (this.world.debug) console.log(this.expectedHotelName); await this.clickButton(hotelDetailsPageFirstOfferSpan, \"\", true, offerFilterDiv); await this.world.switchTab(2); await this.world.helper.waitFor(bookingPageHotelNameSpan); await this.world.sleep(2000); } /** * Verify the name of the hotel */ async verifyHotelName() { if (this.world.debug) console.log(\"verifyHotelName\"); if (this.expectedHotelName) { const { bookingPageHotelNameSpan } = this.elements; await this.world.helper.waitFor(bookingPageHotelNameSpan); let actualHotelName = await this.world.helper.getElementText(bookingPageHotelNameSpan); actualHotelName = actualHotelName.replace(\"Hotelbeschreibung\", \"\").trim(); if (this.world.debug) console.log(actualHotelName); this.world.expect(actualHotelName).to.equal(this.expectedHotelName); await this.world.sleep(2000); } else { throw new Error(\"Couldn't find the hotel name\"); } } } module.exports = UrlaubPage; × Search results Close "},"test_support_world.js.html":{"id":"test_support_world.js.html","title":"Source: test/support/world.js","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Source: test/support/world.js const { setWorldConstructor } = require(\"cucumber\"); const selenium = require(\"selenium-webdriver\"); const { expect, assert } = require(\"chai\"); const _ = require(\"lodash\"); const requireDir = require(\"require-dir\"); const Promise = require(\"bluebird\"); const Driver = require(\"./Driver\"); const Screenshot = require(\"./Screenshot\"); const Helper = require(\"./Helper\"); const PageFactory = require(\"../../resources/PageFactory\"); // Use dotenv to read .env vars into Node require(\"dotenv\").config(); /** * Sharing code and Data between steps. * Using world we can add helper methods, or logging. */ class World { /** * Instantiate the object * @param {JSON} attach - attach anything * @param {Command} parameters - sets the parameters as command */ constructor({ attach, parameters }) { this.attach = attach; // attaching screenshots to report this.parameters = parameters; this.pf = process.env.PLATFORM || \"chrome\"; this.env = process.env.ENVIRONMENT || \"local\"; this.timeout = parseInt(process.env.DEFAULT_TIMEOUT) || 60000; this.debug = (process.env.DEBUG === \"true\") || false; // browser driver instance this.driver = Driver.create(this.pf).build(); this.driver.manage().window().setRect({ width: 1440, height: 900, x: 0, y: 0, }); this.selenium = selenium; this.expect = expect; this.assert = assert; this.screenshot = new Screenshot(this); this.helper = new Helper(this); this.pageFactory = new PageFactory(this); this.data = requireDir(\"../../resources/data\", { recurse: true }); } get isBrowser() { return _.isFunction(this.driver.manage); } get platform() { return this.pf; } get environment() { return this.env; } get defaultTimeout() { return this.timeout; } get appUrl() { return this.helper.getAppUrlForEnv(this.env); } /** * Easy switch browser tabs * @param {Number} tabNum * @return {TargetLocator} */ async switchTab(tabNum = \"0\") { if (!this.isBrowser) { throw new Error(\"Platform set to NONE, no browser no tabs\"); } const allWindowHandels = await this.driver.getAllWindowHandles(); return this.driver.switchTo().window(allWindowHandels[tabNum]); } /** * Sleep * @param {String} milliseconds - milli seconds * @returns {Bluebird} return promise */ sleep(milliseconds) { return Promise.delay(milliseconds); } } setWorldConstructor(World); × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Classes Classes AndroidDriver ChromeDriver ChromeheadlessDriver Driver FirefoxDriver FirefoxheadlessDriver Helper NazmulWebPage Page PageFactory Report Screenshot SlotGamePage UrlaubPage World × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld E2E Test Automation Framework This is an e2e test automation framework using using Cucumber and Selenium. Overview: We need the following to have a browser based e2e testing using Cucumber JS: Cucumber JS - (Video Workshop) Chai Selenium-Webdriver Cucumber-Html-Reporter Circle CI - (Video Workshop) Quick Reference Guide: A short and easy Document for Cucumber. Setup: Please clone this repo and run the following commands: git clone https://github.com/nazmulb/e2e_test_automation.git cd e2e_test_automation npm i Environment Variables: ENVIRONMENT - (string) test environment to target - local or prod. PLATFORM - (string) browser name - chrome or firefox or chromeheadless or firefoxheadless. DEFAULT_TIMEOUT - (int) timeout after milliseconds. DEBUG - (bool) if you need to see the logs - true or false. Running Tests: Environment variables are a big part of the configuration on how to run the tests. Examples: PLATFORM=chromeheadless DEBUG=true npm test or npm test Test Report: CI/CD using Circle CI: × Search results Close "},"AndroidDriver.html":{"id":"AndroidDriver.html","title":"Class: AndroidDriver","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: AndroidDriver AndroidDriver Android Driver Related Methods new AndroidDriver() Source: test/support/drivers/AndroidDriver.js, line 7 Methods build() Build the driver with capabilities Source: test/support/drivers/AndroidDriver.js, line 12 Returns: Driver object Type WebDriver × Search results Close "},"ChromeDriver.html":{"id":"ChromeDriver.html","title":"Class: ChromeDriver","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: ChromeDriver ChromeDriver Chrome Driver Related Methods new ChromeDriver() Source: test/support/drivers/ChromeDriver.js, line 8 Methods build() Build the driver with capabilities Source: test/support/drivers/ChromeDriver.js, line 13 Returns: Driver object Type WebDriver × Search results Close "},"ChromeheadlessDriver.html":{"id":"ChromeheadlessDriver.html","title":"Class: ChromeheadlessDriver","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: ChromeheadlessDriver ChromeheadlessDriver Chrome Headless Driver Related Methods new ChromeheadlessDriver() Source: test/support/drivers/ChromeheadlessDriver.js, line 8 Methods build() Build the driver with capabilities Source: test/support/drivers/ChromeheadlessDriver.js, line 13 Returns: Driver object Type WebDriver × Search results Close "},"Driver.html":{"id":"Driver.html","title":"Class: Driver","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: Driver Driver Driver Related Methods new Driver() Abstract Source: test/support/Driver.js, line 10 Methods &lt;static&gt; create(name) Factory Parameters: Name Type Description name String name Source: test/support/Driver.js, line 20 build() Build the driver with capabilities Source: test/support/Driver.js, line 36 Returns: Driver object Type WebDriver × Search results Close "},"FirefoxDriver.html":{"id":"FirefoxDriver.html","title":"Class: FirefoxDriver","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: FirefoxDriver FirefoxDriver Firefox Driver Related Methods new FirefoxDriver() Source: test/support/drivers/FirefoxDriver.js, line 8 Methods build() Build the driver with capabilities Source: test/support/drivers/FirefoxDriver.js, line 13 Returns: Driver object Type WebDriver × Search results Close "},"FirefoxheadlessDriver.html":{"id":"FirefoxheadlessDriver.html","title":"Class: FirefoxheadlessDriver","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: FirefoxheadlessDriver FirefoxheadlessDriver Firefox Headless Driver Related Methods new FirefoxheadlessDriver() Source: test/support/drivers/FirefoxheadlessDriver.js, line 8 Methods build() Build the driver with capabilities Source: test/support/drivers/FirefoxheadlessDriver.js, line 13 Returns: Driver object Type WebDriver × Search results Close "},"Helper.html":{"id":"Helper.html","title":"Class: Helper","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: Helper Helper Helper Related Methods new Helper(world) Instantiate the object Parameters: Name Type Description world World world object instance Source: test/support/Helper.js, line 9 Methods findElement(locator) To find an element on the page that match the given search criteria Parameters: Name Type Description locator string css or xpath selector element Source: test/support/Helper.js, line 96 Returns: an element that can be used to issue commands against the located element Type WebElementPromise Example helper.findElement(\"body\"); findElements(locator) To find all elements on the page that match the given search criteria Parameters: Name Type Description locator string css or xpath selector element Source: test/support/Helper.js, line 115 Returns: an element that can be used to issue commands against the located element Type WebElementPromise Example helper.findElements(\"body\"); getAppUrlForEnv(env) Get app url for environment Parameters: Name Type Description env String Environment Source: test/support/Helper.js, line 40 Returns: root url Type String getCssValue(locator, attribute) Get Element Css Value Parameters: Name Type Description locator string css or xpath selector element attribute string width, height, position, visibility, etc Source: test/support/Helper.js, line 166 Returns: str Type string Example helper.getCssValue(\"#divid\", \"width\"); getDriver() This will return driver object instance Source: test/support/Helper.js, line 31 Returns: Driver object Type WebDriver Example helper.getDriver(); getElementAttribute(locator, attribute) Get Element Attribute Parameters: Name Type Description locator string css or xpath selector element attribute string name, value, class, etc Source: test/support/Helper.js, line 150 Returns: str Type string Example helper.getElementAttribute(\"#divid\", \"class\"); getElementText(locator) Get Element Text Parameters: Name Type Description locator string css or xpath selector element Source: test/support/Helper.js, line 134 Returns: str Type string Example helper.getElementText(\"#divid\"); getWorld() This will return world object instance Source: test/support/Helper.js, line 21 Returns: world object Type World Example helper.getWorld(); isDisplayed(locator) Is displayed Parameters: Name Type Description locator string css or xpath selector element Source: test/support/Helper.js, line 181 Returns: bool Type boolean Example helper.isDisplayed(\"#divid\"); isEnabled(locator) Is enabled Parameters: Name Type Description locator string css or xpath selector element Source: test/support/Helper.js, line 196 Returns: bool Type boolean Example helper.isEnabled(\"#divid\"); isSelected(locator) Is selected Parameters: Name Type Description locator string css or xpath selector element Source: test/support/Helper.js, line 211 Returns: bool Type boolean Example helper.isSelected(\"#divid\"); loadPage(url, waitInSeconds) Load or navigate to a page with the url and check the body element is present Parameters: Name Type Description url string url to load waitInSeconds integer number of seconds to wait for page to load Source: test/support/Helper.js, line 58 Example helper.loadPage(\"http://www.google.com\"); moveSlider(element, xOffset, yOffset) Move Slider Parameters: Name Type Description element WebElement the element xOffset Number x offset yOffset Number y offset Source: test/support/Helper.js, line 240 Example helper.scrollToElement(el, 45, 0); refresh() Reload or refresh page Source: test/support/Helper.js, line 260 Example helper.refresh(); scrollToElement(element) Scroll to the element Parameters: Name Type Description element WebElement the element Source: test/support/Helper.js, line 225 Example helper.scrollToElement(el); takeScreenshot() Take Screenshot Source: test/support/Helper.js, line 272 Example helper.takeScreenshot(); waitFor(locator, waitInSeconds) Wait for any element to be found Parameters: Name Type Description locator string css or xpath selector element waitInSeconds integer number of seconds to wait for the element to load Source: test/support/Helper.js, line 74 Example helper.waitFor(\"body\", 15); × Search results Close "},"NazmulWebPage.html":{"id":"NazmulWebPage.html","title":"Class: NazmulWebPage","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: NazmulWebPage NazmulWebPage Nazmul Web Page Class Methods new NazmulWebPage() Source: resources/pages/NazmulWebPage.js, line 6 Members elements Get page elements Source: resources/pages/NazmulWebPage.js, line 11 Methods preformSearch(searchQuery) Enters a search term into search box and presses enter Parameters: Name Type Description searchQuery string search query text Source: resources/pages/NazmulWebPage.js, line 22 × Search results Close "},"Page.html":{"id":"Page.html","title":"Class: Page","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: Page Page Page Class Methods new Page() Instantiate the object Source: resources/pages/Page.js, line 8 Methods titleEquals(expectedTitle) Match the title Parameters: Name Type Description expectedTitle string expected title to match Source: resources/pages/Page.js, line 24 × Search results Close "},"PageFactory.html":{"id":"PageFactory.html","title":"Class: PageFactory","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: PageFactory PageFactory Page Factory Methods new PageFactory() Instantiate the object Source: resources/PageFactory.js, line 10 Methods create(name) Factory method Parameters: Name Type Description name String name Source: resources/PageFactory.js, line 18 × Search results Close "},"Report.html":{"id":"Report.html","title":"Class: Report","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: Report Report Report Related Methods new Report() Source: test/support/Report.js, line 9 Methods &lt;static&gt; generate(launchReport) Generate report Parameters: Name Type Default Description launchReport boolean true Source: test/support/Report.js, line 14 × Search results Close "},"Screenshot.html":{"id":"Screenshot.html","title":"Class: Screenshot","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: Screenshot Screenshot Screenshot Related Methods new Screenshot(world) Instantiate the object Parameters: Name Type Description world World world object instance Source: test/support/Screenshot.js, line 16 Methods create(fileName) Create screenshot Parameters: Name Type Description fileName String File name Source: test/support/Screenshot.js, line 44 ensureDirectoryExists() Ensure directory exists or not; if not then it will create new directory Source: test/support/Screenshot.js, line 28 × Search results Close "},"SlotGamePage.html":{"id":"SlotGamePage.html","title":"Class: SlotGamePage","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: SlotGamePage SlotGamePage Slot Game Page Class Methods new SlotGamePage() Source: resources/pages/SlotGamePage.js, line 6 Members elements Get page elements Source: resources/pages/SlotGamePage.js, line 19 url Get page specific url to navigate Source: resources/pages/SlotGamePage.js, line 11 Methods balanceEquals(expectedValue) Check the balance Parameters: Name Type Description expectedValue Number Source: resources/pages/SlotGamePage.js, line 82 checkWinCoins(coins) Check the win coins Parameters: Name Type Description coins Number Source: resources/pages/SlotGamePage.js, line 111 clickSpinButton() Click the Spin button Source: resources/pages/SlotGamePage.js, line 66 isSpinButtonDisabled() Check the Spin button is disabled or not? Source: resources/pages/SlotGamePage.js, line 95 setBalance(value) Set the balance Parameters: Name Type Description value Number Source: resources/pages/SlotGamePage.js, line 32 setTestData(value) Set test data Parameters: Name Type Description value Number Source: resources/pages/SlotGamePage.js, line 50 × Search results Close "},"UrlaubPage.html":{"id":"UrlaubPage.html","title":"Class: UrlaubPage","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: UrlaubPage UrlaubPage Ab In Den Urlaub Page Class Methods new UrlaubPage() Source: resources/pages/UrlaubPage.js, line 6 Members elements Get page elements Source: resources/pages/UrlaubPage.js, line 11 Methods checkAndClickCookieBox() Check and Click Cookie Box Source: resources/pages/UrlaubPage.js, line 384 checkAndClickOrEnter(destination, element) Check And Click Or Enter Parameters: Name Type Description destination String element WebElement the element Source: resources/pages/UrlaubPage.js, line 146 checkPageName(expectedTitle) Check Page Name Parameters: Name Type Description expectedTitle String name of the page Source: resources/pages/UrlaubPage.js, line 434 checkRange(a, b, x, y) Check the range Parameters: Name Type Description a String b String x String y String Source: resources/pages/UrlaubPage.js, line 100 Returns: Type Boolean clickButton(buttonToClick, waitForElement, scroll, scrollToElement) Click Button Parameters: Name Type Default Description buttonToClick String css or xpath selector element for button waitForElement String css or xpath selector element for wait scroll Boolean true need scroll or not scrollToElement String css or xpath selector element for scroll Source: resources/pages/UrlaubPage.js, line 121 clickNextMonth(locator) Click Next Month Parameters: Name Type Description locator String css or xpath selector element Source: resources/pages/UrlaubPage.js, line 193 countDirectFlights(count) Count Direct Flights Parameters: Name Type Description count Number Source: resources/pages/UrlaubPage.js, line 673 fillSearchOfferForm(data) Fill Search Offer Form Parameters: Name Type Description data Object form data Source: resources/pages/UrlaubPage.js, line 402 findBestFit(data) Find Best Fit Parameters: Name Type Description data Object form data Source: resources/pages/UrlaubPage.js, line 558 findBestHotel(data) Change selections and find the best hotel Parameters: Name Type Description data Object form data Source: resources/pages/UrlaubPage.js, line 449 generateDateSelector(dateTd, dateObject, input) Generate Date Selector Parameters: Name Type Description dateTd String css or xpath selector element dateObject Object Date object input String start / end Source: resources/pages/UrlaubPage.js, line 74 Returns: css selector Type String generateOffset(time) Generate Offset Parameters: Name Type Description time String Source: resources/pages/UrlaubPage.js, line 85 Returns: Type Number getSelectedMonthYear(locator) Get Selected Month and Year Parameters: Name Type Description locator String css or xpath selector element Source: resources/pages/UrlaubPage.js, line 207 Returns: selected month and year Type Object selectDestination(destination) Select destination Parameters: Name Type Description destination String Source: resources/pages/UrlaubPage.js, line 173 selectFirstOffer() Select The First Offer Source: resources/pages/UrlaubPage.js, line 778 selectMostExpensiveHotel() Select The Most Expensive Hotel Source: resources/pages/UrlaubPage.js, line 539 setAdults(locator) Set Adults Parameters: Name Type Description locator String css or xpath selector element Source: resources/pages/UrlaubPage.js, line 317 setDate(dateObject, locatorNextMonth, locatorSelectedMonthYear, input, pageName) Set Date Parameters: Name Type Description dateObject Object Date object locatorNextMonth String css or xpath selector element for next month locatorSelectedMonthYear String css or xpath selector element for selected month year input String start / end pageName String name of the page Source: resources/pages/UrlaubPage.js, line 227 setDateRange(startDate, returnDate, locatorStartDate, locatorNextStartMonth, locatorSelectedStartMonthYear, locatorNextReturnMonth, locatorSelectedReturnMonthYear, pageName) Set Date Range Parameters: Name Type Description startDate String returnDate String locatorStartDate String locatorNextStartMonth String locatorSelectedStartMonthYear String locatorNextReturnMonth String locatorSelectedReturnMonthYear String pageName String Source: resources/pages/UrlaubPage.js, line 279 setTraveller(noOfAdults, noOfChildren) Set Traveller Parameters: Name Type Default Description noOfAdults Number of adults noOfChildren Number 0 of children Source: resources/pages/UrlaubPage.js, line 332 verifyFlightTimeOfFirstResult() Verify Flight Time Of First Result Source: resources/pages/UrlaubPage.js, line 731 verifyHotelName() Verify the name of the hotel Source: resources/pages/UrlaubPage.js, line 799 verifySorted(expectedSortedBy) Verify Sorted Parameters: Name Type Description expectedSortedBy String sorted by Source: resources/pages/UrlaubPage.js, line 508 × Search results Close "},"World.html":{"id":"World.html","title":"Class: World","body":" E2E Test Automation Framework Classes AndroidDriverChromeDriverChromeheadlessDriverDriverFirefoxDriverFirefoxheadlessDriverHelperNazmulWebPagePagePageFactoryReportScreenshotSlotGamePageUrlaubPageWorld Class: World World Sharing code and Data between steps. Using world we can add helper methods, or logging. new World(attach, parameters) Instantiate the object Parameters: Name Type Description attach JSON attach anything parameters Command sets the parameters as command Source: test/support/world.js, line 25 Methods sleep(milliseconds) Sleep Parameters: Name Type Description milliseconds String milli seconds Source: test/support/world.js, line 89 Returns: return promise Type Bluebird switchTab(tabNum) Easy switch browser tabs Parameters: Name Type Default Description tabNum Number 0 Source: test/support/world.js, line 75 Returns: Type TargetLocator × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
